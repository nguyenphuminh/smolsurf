export const entityMap: Record<string, string> = {
    // General
    "lt": "<",
    "gt": ">",
    "amp": "&",
    "quot": "\"",
    "apos": "'",
    "nbsp": "\u00A0",
    "euro": "€",
    "copy": "©",
    "reg": "®",
    "cent": "¢",
    "pound": "£",
    "yen": "¥",
    "spades": "♠",
    "clubs": "♣",
    "hearts": "♥",
    "diams": "♦",
    "iexcl": "¡",
    "curren": "¤",
    "brvbar": "¦",
    "sect": "§",
    "uml": "¨",
    "ordf": "ª",
    "laquo": "«",
    "not": "¬",
    "shy": "\u00AD",
    "macr": "¯",
    "deg": "°",
    "plusmn": "±",
    "sup2": "²",
    "sup3": "³",
    "acute": "´",
    "micro": "µ",
    "para": "¶",
    "middot": "·",
    "cedil": "¸",
    "sup1": "¹",
    "ordm": "º",
    "raquo": "»",
    "frac14": "¼",
    "frac12": "½",
    "frac34": "¾",
    "iquest": "¿",
    "Agrave": "À",
    "Aacute": "Á",
    "Acirc": "Â",
    "Atilde": "Ã",
    "Auml": "Ä",
    "Aring": "Å",
    "AElig": "Æ",
    "Ccedil": "Ç",
    "Egrave": "È",
    "Eacute": "É",
    "Ecirc": "Ê",
    "Euml": "Ë",
    "Igrave": "Ì",
    "Iacute": "Í",
    "Icirc": "Î",
    "Iuml": "Ï",
    "ETH": "Ð",
    "Ntilde": "Ñ",
    "Ograve": "Ò",
    "Oacute": "",
    "Ocirc": "Ô",
    "Otilde": "Õ",
    "Ouml": "Ö",
    "times": "×",
    "Oslash": "Ø",
    "Ugrave": "Ù",
    "Uacute": "Ú",
    "Ucirc": "Û",
    "Uuml": "Ü",
    "Yacute": "Ý",
    "THORN": "Þ",
    "szlig": "ß",
    "agrave": "à",
    "aacute": "á",
    "acirc": "â",
    "atilde": "ã",
    "auml": "ä",
    "aring": "å",
    "aelig": "æ",
    "ccedil": "ç",
    "egrave": "è",
    "eacute": "é",
    "ecirc": "ê",
    "euml": "ë",
    "igrave": "ì",
    "iacute": "í",
    "icirc": "î",
    "iuml": "ï",
    "eth": "ð",
    "ntilde": "ñ",
    "ograve": "ò",
    "oacute": "ó",
    "ocirc": "ô",
    "otilde": "õ",
    "ouml": "ö",
    "divide": "÷",
    "oslash": "ø",
    "ugrave": "ù",
    "uacute": "ú",
    "ucirc": "û",
    "uuml": "ü",
    "yacute": "ý",
    "thorn": "þ",
    "yuml": "ÿ",
    "Amacr": "Ā",
    "amacr": "ā",
    "Abreve": "Ă",
    "abreve": "ă",
    "Aogon": "Ą",
    "aogon": "ą",
    "Cacute": "Ć",
    "cacute": "ć",
    "Ccirc": "Ĉ",
    "ccirc": "ĉ",
    "Cdot": "Ċ",
    "cdot": "ċ",
    "Ccaron": "Č",
    "ccaron": "č",
    "Dcaron": "Ď",
    "dcaron": "ď",
    "Dstrok": "Đ",
    "dstrok": "đ",
    "Emacr": "Ē",
    "emacr": "ē",
    "Edot": "Ė",
    "edot": "ė",
    "Eogon": "Ę",
    "eogon": "ę",
    "Ecaron": "Ě",
    "ecaron": "ě",
    "Gcirc": "Ĝ",
    "gcirc": "ĝ",
    "Gbreve": "Ğ",
    "gbreve": "ğ",
    "Gdot": "Ġ",
    "gdot": "ġ",
    "Gcedil": "Ģ",
    "gcedil": "ģ",
    "Hcirc": "Ĥ",
    "hcirc": "ĥ",
    "Hstrok": "Ħ",
    "hstrok": "ħ",
    "Itilde": "Ĩ",
    "itilde": "ĩ",
    "Imacr": "Ī",
    "imacr": "ī",
    "Iogon": "Į",
    "iogon": "į",
    "Idot": "İ",
    "inodot": "ı",
    "IJlig": "Ĳ",
    "ijlig": "ĳ",
    "Jcirc": "Ĵ",
    "jcirc": "ĵ",
    "Kcedil": "Ķ",
    "kcedli": "ķ",
    "kgreen": "ĸ",
    "Lacute": "Ĺ",
    "lacute": "ĺ",
    "Lcedil": "Ļ",
    "lcedil": "ļ",
    "Lcaron": "Ľ",
    "lcaron": "ľ",
    "Lmodot": "Ŀ",
    "lmidot": "ŀ",
    "Lstrok": "Ł",
    "lstrok": "ł",
    "Nacute": "Ń",
    "nacute": "ń",
    "Ncedil": "Ņ",
    "ncedil": "ņ",
    "Ncaron": "Ň",
    "ncaron": "ň",
    "napos": "ŉ",
    "ENG": "Ŋ",
    "eng": "ŋ",
    "Omacr": "Ō",
    "omacr": "ō",
    "Odblac": "Ő",
    "odblac": "ő",
    "OElig": "Œ",
    "oelig": "œ",
    "Racute": "Ŕ",
    "racute": "ŕ",
    "Rcedil": "Ŗ",
    "rcedil": "ŗ",
    "Rcaron": "Ř",
    "rcaron": "ř",
    "Sacute": "Ś",
    "sacute": "ś",
    "Scirc": "Ŝ",
    "scirc": "ŝ",
    "Scedil": "Ş",
    "scedil": "ş",
    "Scaron": "Š",
    "scaron": "š",
    "Tcedil": "Ţ",
    "tcedil": "ţ",
    "Tcaron": "Ť",
    "tcaron": "ť",
    "Tstrok": "Ŧ",
    "tstrok": "ŧ",
    "Utilde": "Ũ",
    "utilde": "ũ",
    "Umacr": "Ū",
    "umacr": "ū",
    "Ubreve": "Ŭ",
    "ubreve": "ŭ",
    "Uring": "Ů",
    "uring": "ů",
    "Udblac": "Ű",
    "udblac": "ű",
    "Uogon": "Ų",
    "uogon": "ų",
    "Wcirc": "Ŵ",
    "wcirc": "ŵ",
    "Ycirc": "Ŷ",
    "ycirc": "ŷ",
    "Yuml": "Ÿ",
    "Zacute": "Ź",
    "zacute": "ź",
    "Zdot": "Ż",
    "zdot": "ż",
    "Zcaron": "Ž",
    "zcaron": "ž",
    "fnof": "ƒ",
    "imped": "Ƶ",
    "gacute": "ǵ",
    "jmath": "ȷ",
    "circ": "ˆ",
    "tilde": "˜",
    "ensp": "\u2002",
    "emsp": "\u2003",
    "thinsp": "\u2009",
    "zwnj": "\u200C",
    "zwj": "\u200D",
    "lrm": "\u200E",
    "rlm": "\u200F",
    "ndash": "\u2013",
    "mdash": "\u2014",
    "lsquo": "\u2018",
    "rsquo": "\u2019",
    "sbquo": "\u201A",
    "ldquo": "\u201C",
    "rdquo": "\u201D",
    "bdquo": "\u201E",
    "dagger": "†",
    "Dagger": "‡",
    "bull": "•",
    "hellip": "…",
    "permil": "‰",
    "prime": "′",
    "Prime": "″",
    "lsaquo": "‹",
    "rsaquo": "›",
    "oline": "‾",
    "frasl": "⁄",
    "image": "ℑ",
    "weierp": "℘",
    "real": "ℜ",
    "trade": "™",
    "ohm": "Ω",
    "mho": "℧",
    "alefsym": "ℵ",
    "frac13": "⅓",
    "frac23": "⅔",
    "frac15": "⅕",
    "frac25": "⅖",
    "frac35": "⅗",
    "frac45": "⅘",
    "frac16": "⅙",
    "frac56": "⅚",
    "frac18": "⅛",
    "frac38": "⅜",
    "frac58": "⅝",
    "frac78": "⅞",

    // Maths
    "forall": "∀",
    "part": "∂",
    "exist": "∃",
    "empty": "∅",
    "nabla": "∇",
    "isin": "∈",
    "notin": "∉",
    "ni": "∋",
    "prod": "∏",
    "sum": "∑",
    "minus": "−",
    "lowast": "∗",
    "radic": "√",
    "prop": "∝",
    "infin": "∞",
    "ang": "∠",
    "and": "∧",
    "or": "∨",
    "cap": "∩",
    "cup": "∪",
    "int": "∫",
    "there4": "∴",
    "sim": "∼",
    "cong": "≅",
    "asymp": "≈",
    "ne": "≠",
    "equiv": "≡",
    "le": "≤",
    "ge": "≥",
    "sub": "⊂",
    "sup": "⊃",
    "nsub": "⊄",
    "sube": "⊆",
    "supe": "⊇",
    "oplus": "⊕",
    "otimes": "⊗",
    "perp": "⊥",
    "sdot": "⋅",
    "lang": "〈",
    "rang": "〉",
    "rfloor": "⌋",
    "lfloor": "⌊",
    "rceil": "⌉",
    "lceil": "⌈",


    // Greek
    "Alpha": "Α",
    "Beta": "Β",
    "Gamma": "Γ",
    "Delta": "Δ",
    "Epsilon": "Ε",
    "Zeta": "Ζ",
    "Eta": "Η",
    "Theta": "Θ",
    "Iota": "Ι",
    "Kappa": "Κ",
    "Lambda": "Λ",
    "Mu": "Μ",
    "Nu": "Ν",
    "Xi": "Ξ",
    "Omicron": "Ο",
    "Pi": "Π",
    "Rho": "Ρ",
    "Sigma": "Σ",
    "Tau": "Τ",
    "Upsilon": "Υ",
    "Phi": "Φ",
    "Chi": "Χ",
    "Psi": "Ψ",
    "Omega": "Ω",
    "alpha": "α",
    "beta": "β",
    "gamma": "γ",
    "delta": "δ",
    "epsilon": "ε",
    "zeta": "ζ",
    "eta": "η",
    "theta": "θ",
    "iota": "ι",
    "kappa": "κ",
    "lambda": "λ",
    "mu": "μ",
    "nu": "ν",
    "xi": "ξ",
    "omicron": "ο",
    "pi": "π",
    "rho": "ρ",
    "sigmaf": "ς",
    "sigma": "σ",
    "tau": "τ",
    "upsilon": "υ",
    "phi": "φ",
    "chi": "χ",
    "psi": "ψ",
    "omega": "ω",
    "thetasym": "ϑ",
    "upsih": "ϒ",
    "straightphi": "ϕ",
    "piv": "ϖ",
    "Gammad": "Ϝ",
    "gammad": "ϝ",
    "varkappa": "ϰ",
    "varrho": "ϱ",
    "straightepsilon": "ϵ",
    "backepsilon": "϶",

    // Arrows
    "larr": "←",
    "uarr": "↑",
    "rarr": "→",
    "darr": "↓",
    "harr": "↔",
    "crarr": "↵",
    "lArr": "⇐",
    "uArr": "⇑",
    "rArr": "⇒",
    "dArr": "⇓",
    "hArr": "⇔"
}

export function decodeHtmlEntities(str: string) {
    return str.replace(/&(#\d+;|#x[0-9A-Fa-f]+;|\w+;)/g, (match, entity) => {
        // Hex
        if (entity.startsWith("#x")) {
            return String.fromCharCode(parseInt(entity.slice(2, -1), 16));
        }
        // Dec
        else if (entity.startsWith("#")) {
            return String.fromCharCode(parseInt(entity.slice(1, -1), 10));
        }
        // Name
        else {
            return entityMap[entity.slice(0, -1)] || match;
        }
    });
}
